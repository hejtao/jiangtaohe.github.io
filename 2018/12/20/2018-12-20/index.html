<!DOCTYPE html>
<html lang="z">
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>大话数据结构 | 米琴香光</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="RSS">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="大话数据结构 | 米琴香光">
    <meta name="twitter:description" content="RSS">

    <meta property="og:type" content="article">
    <meta property="og:title" content="大话数据结构 | 米琴香光">
    <meta property="og:description" content="RSS">

    
    <meta name="author" content="Jiang-Tao He">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/icon.jpg">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="米琴香光" href="/atom.xml">
    

    <link rel="canonical" href="https://hejtao.netlify.com/2018/12/20/2018-12-20/"/>

              
<link rel="stylesheet" href="/css/prism.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body class="home-template no-js">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    <header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/"><img src="/images/avatar.jpg" width="80" alt="米琴香光 logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="返回封面">米琴香光</a></h1>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description"></p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" class="blog-button">笔记</a></li>
            
              <li class="navigation__item"><a href="/archives">归档</a></li>
            
              <li class="navigation__item"><a href="/videos">视频</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  
  <li class="navigation__item">
    <a href="https://weibo.com/hjt1993" title="我的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li>


  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/hejtao" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  <li class="navigation__item">
    <a href="https://facebook.com/chiangtaoho" title="上Facebook找我" target="_blank">
      <i class='social fa fa-facebook'></i>
      <span class="label">Facebook</span>
    </a>
  </li>


<!-- Twitter -->



  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>



  <li class="navigation__item">
    <a href="mailto:hejtao@outlook.com" title="邮件联系我" target="_blank">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>


  </ul>
</nav>

          </div>
          <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=250 height=86 src="//music.163.com/outchain/player?type=2&id=27538415&auto=0&height=66"></iframe>
        </div>
    </div>
    </div>
    <div class="panel-cover--overlay cover-blue"></div>
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2018-12-20T15:04:00.000Z" class="post-list__meta--date date">2018-12-20</time> &#8226; <span class="post-meta__tags tags"> 
  <a class="tag-link" href="/tags/Golang/">Golang</a>, <a class="tag-link" href="/tags/数据结构/">数据结构</a>, <a class="tag-link" href="/tags/长文/">长文</a>
 </span>
    

    </div>
    <h1 class="post-title">大话数据结构</h1>
  </header>

  <section class="post">
    <meta name="referrer" content="no-referrer">
<div class="toc">
<!-- toc -->
<ul>
<li><a href="#3-4-shun-xu-cun-chu-jie-gou">3.4 顺序存储结构</a></li>
<li><a href="#3-6-lian-shi-cun-chu-jie-gou">3.6 链式存储结构</a></li>
<li><a href="#3-11-dan-lian-biao-jie-gou-yu-shun-xu-cun-chu-jie-gou">3.11 单链表结构与顺序存储结构</a></li>
<li><a href="#3-12-jing-tai-lian-biao">3.12 静态链表</a></li>
<li><a href="#3-13-xun-huan-lian-biao">3.13 循环链表</a></li>
<li><a href="#3-14-shuang-xiang-lian-biao">3.14 双向链表</a></li>
<li><a href="#4-2-zhan">4.2 栈</a></li>
<li><a href="#4-10-dui-lie">4.10 队列</a></li>
<li><a href="#4-12-xun-huan-dui-lie">4.12 循环队列</a></li>
<li><a href="#6-4-shu-de-cun-chu-jie-gou">6.4 树的存储结构</a>
<ul>
<li><a href="#6-5-2-te-shu-er-cha-shu">6.5.2 特殊二叉树</a></li>
</ul>
</li>
<li><a href="#6-6-er-cha-shu-xing-zhi">6.6 二叉树性质</a></li>
<li><a href="#6-8-bian-li-er-cha-shu">6.8 遍历二叉树</a></li>
<li><a href="#6-8-6-tui-dao-bian-li-jie-guo">6.8.6 推导遍历结果</a></li>
<li><a href="#6-10-xian-suo-er-cha-shu">6.10 线索二叉树</a>
<ul>
<li><a href="#6-11-1-shu-zhuan-huan-wei-er-cha-shu">6.11.1 树转换为二叉树</a></li>
</ul>
</li>
<li><a href="#6-12-he-fu-man-shu">6.12 <strong>赫夫曼树</strong></a>
<ul>
<li><a href="#7-4-1-lin-jie-ju-zhen-adjacency-matrix">7.4.1 <strong>邻接矩阵</strong>(adjacency matrix)</a></li>
<li><a href="#7-4-2-lin-jie-biao">7.4.2 <strong>邻接表</strong></a></li>
<li><a href="#7-5-1-shen-du-you-xian-bian-li-depth-first-search">7.5.1 <strong>深度优先遍历</strong>(Depth First Search)</a></li>
<li><a href="#7-5-2-guang-du-you-xian-bian-li-breadth-first-search">7.5.2 <strong>广度优先遍历</strong>(Breadth First Search)</a></li>
<li><a href="#8-4-1-er-fen-cha-zhao">8.4.1 二分查找</a></li>
</ul>
</li>
<li><a href="#8-6-er-cha-cha-zhao-shu-binary-sort-tree">8.6 二叉查找树(Binary Sort Tree)</a>
<ul>
<li><a href="#8-6-2-er-cha-cha-zhao-shu-cha-ru">8.6.2 二叉查找树插入</a></li>
<li><a href="#8-6-3-er-cha-cha-zhao-shu-shan-chu">8.6.3 二叉查找树删除</a></li>
</ul>
</li>
<li><a href="#8-7-ping-heng-er-cha-shu-avl-shu">8.7 平衡二叉树(AVL树)</a>
<ul>
<li><a href="#9-2-1-pai-xu-de-wen-ding-xing">9.2.1 排序的稳定性</a></li>
<li><a href="#9-2-2-nei-pai-xu-he-wai-pai-xu">9.2.2 内排序和外排序</a></li>
<li><a href="#9-3-2-mou-pao-pai-xu-suan-fa-bubble-sort">9.3.2 冒泡排序算法(Bubble Sort)</a></li>
<li><a href="#9-3-3-mou-pao-pai-xu-you-hua">9.3.3 冒泡排序优化</a></li>
</ul>
</li>
</ul>
<ul>
<li><a href="#9-4-1-jian-dan-xuan-ze-pai-xu-simple-selection-sort">9.4.1 简单选择排序(Simple Selection Sort)</a>
<ul>
<li><a href="#9-5-1-zhi-jie-cha-ru-pai-xu-straight-insertion-sort">9.5.1 直接插入排序(Straight Insertion Sort)</a></li>
</ul>
<ul>
<li><a href="#9-6-xi-er-pai-xu-shell-sort">9.6 希尔排序(Shell Sort)</a></li>
<li><a href="#9-7-dui-pai-xu">9.7 堆排序</a></li>
<li><a href="#9-8-gui-bing-pai-xu">9.8 归并排序</a></li>
<li><a href="#9-9-kuai-su-pai-xu">9.9 快速排序</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
</div>
<h4><span id="3-4-shun-xu-cun-chu-jie-gou">3.4 顺序存储结构</span><a href="#3-4-shun-xu-cun-chu-jie-gou" class="header-anchor">#</a></h4>
<p>数值data(起始位置)；数组长度MaxSize；线性表长度length
LOC($a_{i}$)=LOC($a_{1}$)+(i-1)c</p>
<h4><span id="3-6-lian-shi-cun-chu-jie-gou">3.6 链式存储结构</span><a href="#3-6-lian-shi-cun-chu-jie-gou" class="header-anchor">#</a></h4>
<p><strong>单链表</strong>，每个节点只包含一个指针域
头指针，头节点，第一个节点</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123;</span><br><span class="line">	data <span class="keyword">string</span></span><br><span class="line">	next *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> LinkList <span class="keyword">struct</span> &#123;</span><br><span class="line">	length <span class="keyword">int</span></span><br><span class="line">	head   *Node</span><br><span class="line">	rear   *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewLinkList</span>(<span class="params">head *Node</span>) *<span class="title">LinkList</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;LinkList&#123;<span class="number">0</span>, head, head&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *LinkList</span>) <span class="title">Append</span>(<span class="params">data <span class="keyword">string</span></span>)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> this.rear == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	node := &amp;Node&#123;data: data&#125;</span><br><span class="line"></span><br><span class="line">	this.rear.next = node</span><br><span class="line">	this.rear = node</span><br><span class="line">	this.length++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *LinkList</span>) <span class="title">Reverse</span>(<span class="params"></span>) *<span class="title">LinkList</span></span> &#123;</span><br><span class="line">	head := this.head</span><br><span class="line">	<span class="keyword">if</span> head == <span class="literal">nil</span> || head.next == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> this</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> pre *Node = <span class="literal">nil</span></span><br><span class="line">	cur := head.next <span class="comment">//head不为空时，当前为第1节点</span></span><br><span class="line">	this.rear = head.next  <span class="comment">//第1节点不为空时，作为最后节点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> cur != <span class="literal">nil</span> &#123;</span><br><span class="line">		cur.next, pre, cur = pre, cur, cur.next</span><br><span class="line"></span><br><span class="line">		<span class="comment">//buf := cur.next</span></span><br><span class="line">		<span class="comment">//cur.next = pre</span></span><br><span class="line">		<span class="comment">//pre = cur</span></span><br><span class="line">		<span class="comment">//cur = buf</span></span><br><span class="line">	&#125;</span><br><span class="line">	head.next = pre <span class="comment">//指向第最后一个节点</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> this</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	head := &amp;Node&#123;&#125;</span><br><span class="line">	bl := NewLinkList(head)</span><br><span class="line"></span><br><span class="line">	bl.Append(<span class="string">"1"</span>)</span><br><span class="line">	bl.Append(<span class="string">"2"</span>)</span><br><span class="line">	bl.Append(<span class="string">"3"</span>)</span><br><span class="line">	bl.Append(<span class="string">"4"</span>)</span><br><span class="line">	bl.Reverse()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> node := bl.head; node != <span class="literal">nil</span>; node = node.next &#123;</span><br><span class="line">		fmt.Print(node.data, <span class="string">"  "</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line">  <span class="number">4</span>  <span class="number">3</span>  <span class="number">2</span>  <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4><span id="3-11-dan-lian-biao-jie-gou-yu-shun-xu-cun-chu-jie-gou">3.11 单链表结构与顺序存储结构</span><a href="#3-11-dan-lian-biao-jie-gou-yu-shun-xu-cun-chu-jie-gou" class="header-anchor">#</a></h4>
<p>内存分配；时间复杂度(查找，插入和删除)；空间复杂度</p>
<h4><span id="3-12-jing-tai-lian-biao">3.12 静态链表</span><a href="#3-12-jing-tai-lian-biao" class="header-anchor">#</a></h4>
<h4><span id="3-13-xun-huan-lian-biao">3.13 循环链表</span><a href="#3-13-xun-huan-lian-biao" class="header-anchor">#</a></h4>
<p>尾指针rear
头节点rear-&gt;next
第一个节点rear-&gt;next-&gt;next
合并：
p=rearA-&gt;next
q=rearB-&gt;next
rearA-&gt;next=rearB-&gt;next-&gt;next
rearB-&gt;next=p
free(q)</p>
<h4><span id="3-14-shuang-xiang-lian-biao">3.14 双向链表</span><a href="#3-14-shuang-xiang-lian-biao" class="header-anchor">#</a></h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123;</span><br><span class="line">	data <span class="keyword">string</span></span><br><span class="line">	pre  *Node</span><br><span class="line">	next *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BiLinkList <span class="keyword">struct</span> &#123;</span><br><span class="line">	length <span class="keyword">int</span></span><br><span class="line">	head   *Node</span><br><span class="line">	rear   *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewBiLinkList</span>(<span class="params">head *Node</span>) *<span class="title">BiLinkList</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;BiLinkList&#123;<span class="number">0</span>, head, head&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *BiLinkList</span>) <span class="title">Append</span>(<span class="params">data <span class="keyword">string</span></span>)</span> &#123;</span><br><span class="line">	node := &amp;Node&#123;data: data&#125;</span><br><span class="line"></span><br><span class="line">	this.rear.next = node</span><br><span class="line">	node.pre = this.rear</span><br><span class="line">	this.rear = node</span><br><span class="line">	this.length++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *BiLinkList</span>) <span class="title">InsertNext</span>(<span class="params">p *Node, e <span class="keyword">string</span></span>)</span> &#123;</span><br><span class="line">	<span class="comment">//省略判断 nd 不为空且属于链表</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> p.next == <span class="literal">nil</span> &#123;</span><br><span class="line">		this.Append(e)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		s := &amp;Node&#123;data: e&#125;</span><br><span class="line">		s.pre = p</span><br><span class="line">		s.next = p.next</span><br><span class="line">		p.next.pre = s</span><br><span class="line">		p.next = s</span><br><span class="line">	&#125;</span><br><span class="line">	this.length++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	head := &amp;Node&#123;&#125;</span><br><span class="line">	bl := NewBiLinkList(head)</span><br><span class="line"></span><br><span class="line">	bl.Append(<span class="string">"1"</span>)</span><br><span class="line">	bl.Append(<span class="string">"2"</span>)</span><br><span class="line">	bl.Append(<span class="string">"3"</span>)</span><br><span class="line"></span><br><span class="line">	bl.InsertNext(head.next.next, <span class="string">"2.5"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//for i := 0; i &lt; bl.length; i++ &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Print(head.next.data, "  ")</span></span><br><span class="line">	<span class="comment">//	head = head.next</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> node := bl.head; node.next != <span class="literal">nil</span>; node = node.next &#123;</span><br><span class="line">		fmt.Print(node.data, <span class="string">"  "</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Print(bl.rear.data)  <span class="comment">//打印末节点</span></span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line">  <span class="number">1</span>  <span class="number">2</span>  <span class="number">2.5</span>  <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>使用标准库</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"container/list"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	bl := list.New()</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">		bl.PushBack(i)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	head := bl.Front()</span><br><span class="line">	rear := bl.Back()</span><br><span class="line">	<span class="keyword">for</span> p := head; p != rear; p = p.Next() &#123;</span><br><span class="line">		fmt.Print(p.Value, <span class="string">"  "</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Print(rear.Value)</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line"><span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h4><span id="4-2-zhan">4.2 栈</span><a href="#4-2-zhan" class="header-anchor">#</a></h4>
<p>123依次进栈，出栈次序不可能有312(12同时在栈中,2一定先出)
s-&gt;top 栈顶指针
栈顶指针为-1表示控栈
s-&gt;data[s-&gt;top]栈顶元素</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Stack <span class="keyword">struct</span> &#123; <span class="comment">//用于存放 int 的栈</span></span><br><span class="line">	nums []<span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Stack</span>) <span class="title">Push</span>(<span class="params">n <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	this.nums = <span class="built_in">append</span>(this.nums, n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Stack</span>) <span class="title">Pop</span>(<span class="params"></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	res := this.nums[<span class="built_in">len</span>(this.nums)<span class="number">-1</span>]</span><br><span class="line">	this.nums = this.nums[:<span class="built_in">len</span>(this.nums)<span class="number">-1</span>]</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="4-10-dui-lie">4.10 队列</span><a href="#4-10-dui-lie" class="header-anchor">#</a></h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Queue <span class="keyword">struct</span> &#123; <span class="comment">//Queue 是用于存放 int 的队列</span></span><br><span class="line">	nums []<span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Queue</span>) <span class="title">Push</span>(<span class="params">n <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	this.nums = <span class="built_in">append</span>(this.nums, n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Queue</span>) <span class="title">Pop</span>(<span class="params"></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	res := this.nums[<span class="number">0</span>]</span><br><span class="line">	this.nums = this.nums[<span class="number">1</span>:]</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="4-12-xun-huan-dui-lie">4.12 循环队列</span><a href="#4-12-xun-huan-dui-lie" class="header-anchor">#</a></h4>
<p>队列满的条件: <strong>(rear+1)%QueueSize == front</strong>
队列长度:<strong>(rear-front+QueueSize)%QueueSize</strong></p>
<h4><span id="6-4-shu-de-cun-chu-jie-gou">6.4 树的存储结构</span><a href="#6-4-shu-de-cun-chu-jie-gou" class="header-anchor">#</a></h4>
<p>双亲表示(数组)，孩子兄弟表示(数组)，孩子表示(数组+链表)</p>
<h5><span id="6-5-2-te-shu-er-cha-shu">6.5.2 特殊二叉树</span><a href="#6-5-2-te-shu-er-cha-shu" class="header-anchor">#</a></h5>
<p>斜树，满二叉树，完全二叉树</p>
<h4><span id="6-6-er-cha-shu-xing-zhi">6.6 二叉树性质</span><a href="#6-6-er-cha-shu-xing-zhi" class="header-anchor">#</a></h4>
<p>总结点数：$n=n_{0}+n_{1}+n_{2}$
分支线总数： $n-1=n_{1}+2n_{2}$
完全二叉树深度：$[log_{2}n]+1$
完全二叉树按层序排号：节点$i$的左节点为$2i$</p>
<h4><span id="6-8-bian-li-er-cha-shu">6.8 遍历二叉树</span><a href="#6-8-bian-li-er-cha-shu" class="header-anchor">#</a></h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BinaryTree <span class="keyword">struct</span> &#123;</span><br><span class="line">	data  <span class="keyword">string</span></span><br><span class="line">	left  *BinaryTree</span><br><span class="line">	right *BinaryTree</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreOrderRec</span>(<span class="params">bt *BinaryTree</span>)</span> &#123; <span class="comment">//前序</span></span><br><span class="line">	<span class="keyword">if</span> bt == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Print(bt.data, <span class="string">" "</span>)</span><br><span class="line">	PreOrderRec(bt.left)</span><br><span class="line">	PreOrderRec(bt.right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MidOrderRec</span>(<span class="params">bt *BinaryTree</span>)</span> &#123; <span class="comment">//中序</span></span><br><span class="line">	<span class="keyword">if</span> bt == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	MidOrderRec(bt.left)</span><br><span class="line">	fmt.Print(bt.data, <span class="string">" "</span>)</span><br><span class="line">	MidOrderRec(bt.right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PostOrderRec</span>(<span class="params">bt *BinaryTree</span>)</span> &#123; <span class="comment">//后序</span></span><br><span class="line">	<span class="keyword">if</span> bt == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	PostOrderRec(bt.left)</span><br><span class="line">	PostOrderRec(bt.right)</span><br><span class="line">	fmt.Print(bt.data, <span class="string">" "</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	node9 := &amp;BinaryTree&#123;data: <span class="string">"I"</span>&#125;</span><br><span class="line">	node8 := &amp;BinaryTree&#123;data: <span class="string">"H"</span>&#125;</span><br><span class="line">	node7 := &amp;BinaryTree&#123;data: <span class="string">"G"</span>&#125;</span><br><span class="line">	node6 := &amp;BinaryTree&#123;data: <span class="string">"F"</span>&#125;</span><br><span class="line">	node5 := &amp;BinaryTree&#123;data: <span class="string">"E"</span>, right: node9&#125;</span><br><span class="line">	node4 := &amp;BinaryTree&#123;<span class="string">"D"</span>, node7, node8&#125;</span><br><span class="line">	node3 := &amp;BinaryTree&#123;<span class="string">"C"</span>, node5, node6&#125;</span><br><span class="line">	node2 := &amp;BinaryTree&#123;data: <span class="string">"B"</span>, left: node4&#125;</span><br><span class="line">	root := &amp;BinaryTree&#123;<span class="string">"A"</span>, node2, node3&#125;</span><br><span class="line"></span><br><span class="line">	PreOrderRec(root)</span><br><span class="line">	fmt.Println()</span><br><span class="line">	MidOrderRec(root)</span><br><span class="line">	fmt.Println()</span><br><span class="line">	PostOrderRec(root)</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line">A B D G H C E I F </span><br><span class="line">G D H B A E I C F </span><br><span class="line">G H D B I E F C A</span><br></pre></td></tr></table></figure>
<h4><span id="6-8-6-tui-dao-bian-li-jie-guo">6.8.6 推导遍历结果</span><a href="#6-8-6-tui-dao-bian-li-jie-guo" class="header-anchor">#</a></h4>
<p>前序遍历序列+中序遍历序列-&gt;二叉树
后序遍历序列+中序遍历序列-&gt;二叉树
前中后：BAC ABC ACB</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BinaryTree <span class="keyword">struct</span> &#123;</span><br><span class="line">	data  <span class="keyword">string</span></span><br><span class="line">	left  *BinaryTree</span><br><span class="line">	right *BinaryTree</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreOrderRec</span>(<span class="params">bt *BinaryTree</span>)</span> &#123; <span class="comment">//前序</span></span><br><span class="line">	<span class="keyword">if</span> bt == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Print(bt.data, <span class="string">" "</span>)</span><br><span class="line">	PreOrderRec(bt.left)</span><br><span class="line">	PreOrderRec(bt.right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MidOrderRec</span>(<span class="params">bt *BinaryTree</span>)</span> &#123; <span class="comment">//中序</span></span><br><span class="line">	<span class="keyword">if</span> bt == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	MidOrderRec(bt.left)</span><br><span class="line">	fmt.Print(bt.data, <span class="string">" "</span>)</span><br><span class="line">	MidOrderRec(bt.right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PostOrderRec</span>(<span class="params">bt *BinaryTree</span>)</span> &#123; <span class="comment">//后序</span></span><br><span class="line">	<span class="keyword">if</span> bt == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	PostOrderRec(bt.left)</span><br><span class="line">	PostOrderRec(bt.right)</span><br><span class="line">	fmt.Print(bt.data, <span class="string">" "</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PreMid2Tree</span>(<span class="params">pre, mid []<span class="keyword">string</span></span>) *<span class="title">BinaryTree</span></span> &#123; <span class="comment">//前序+中序推导二叉树</span></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(pre) != <span class="built_in">len</span>(mid) &#123;</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">"两个切片的长度不相等"</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(mid) == <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	root := &amp;BinaryTree&#123; <span class="comment">//前序第一个元素为root</span></span><br><span class="line">		data: pre[<span class="number">0</span>],</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(mid) == <span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> root</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	position := IndexOf(root.data, mid) <span class="comment">//找出root在中序的位置</span></span><br><span class="line"></span><br><span class="line">	root.left = PreMid2Tree(pre[<span class="number">1</span>:position+<span class="number">1</span>], mid[:position]) <span class="comment">//递归</span></span><br><span class="line">	root.right = PreMid2Tree(pre[position+<span class="number">1</span>:], mid[position+<span class="number">1</span>:])</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IndexOf</span>(<span class="params">ele <span class="keyword">string</span>, seq []<span class="keyword">string</span></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> seq &#123;</span><br><span class="line">		<span class="keyword">if</span> v == ele &#123;</span><br><span class="line">			<span class="keyword">return</span> i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">panic</span>(<span class="string">"IndexOf错误，元素不存在"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	bt := PreMid2Tree([]<span class="keyword">string</span>&#123;<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"D"</span>, <span class="string">"G"</span>, <span class="string">"H"</span>, <span class="string">"C"</span>, <span class="string">"E"</span>, <span class="string">"I"</span>, <span class="string">"F"</span>&#125;,</span><br><span class="line">		[]<span class="keyword">string</span>&#123;<span class="string">"G"</span>, <span class="string">"D"</span>, <span class="string">"H"</span>, <span class="string">"B"</span>, <span class="string">"A"</span>, <span class="string">"E"</span>, <span class="string">"I"</span>, <span class="string">"C"</span>, <span class="string">"F"</span>&#125;)</span><br><span class="line"></span><br><span class="line">	PostOrderRec(bt)</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line">G H D B I E F C A</span><br></pre></td></tr></table></figure>
<h4><span id="6-10-xian-suo-er-cha-shu">6.10 线索二叉树</span><a href="#6-10-xian-suo-er-cha-shu" class="header-anchor">#</a></h4>
<p>将节点的空指针改为指向在遍历序列中的前驱或后继的指针。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ThreadBiTree <span class="keyword">struct</span> &#123;</span><br><span class="line">    data  <span class="keyword">string</span></span><br><span class="line">    left  *ThreadBiTree</span><br><span class="line">    right *ThreadBiTree</span><br><span class="line">    lTag  *ThreadBiTree <span class="comment">//一个bit位，区分是指向孩子还是线索</span></span><br><span class="line">    rTag  *ThreadBiTree</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pre *ThreadBiTree <span class="comment">//保存前驱</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MidThreading</span>(<span class="params">bt *ThreadBiTree</span>)</span> &#123; <span class="comment">//中序遍历线索化</span></span><br><span class="line">    <span class="keyword">if</span> bt == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    MidThreading(bt.left)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> bt.left == <span class="literal">nil</span> &#123; <span class="comment">//若bt有左空指针，则把pre设为bt的前驱，并设置标志位</span></span><br><span class="line">        bt.left = pre</span><br><span class="line">        bt.lTag = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> bt.right == <span class="literal">nil</span> &#123; <span class="comment">//若bt有右空指针，则把bt设为pre的后继，并设置标志位</span></span><br><span class="line">        pre.right = bt</span><br><span class="line">        pre.rTag = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pre = bt</span><br><span class="line"></span><br><span class="line">    MidThreading(bt.right)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="6-11-1-shu-zhuan-huan-wei-er-cha-shu">6.11.1 树转换为二叉树</span><a href="#6-11-1-shu-zhuan-huan-wei-er-cha-shu" class="header-anchor">#</a></h5>
<p>兄弟连线；只保留第一个孩子的连线</p>
<h4><span id="6-12-he-fu-man-shu">6.12 <strong>赫夫曼树</strong></span><a href="#6-12-he-fu-man-shu" class="header-anchor">#</a></h4>
<p>带权路径长度(WPL)最小的二叉树
<img src="https://upload-images.jianshu.io/upload_images/1863961-81d44580cf5163ee.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt="Huffman Tree"></p>
<p>WPL(a)= 5<em>1+15</em>2+40<em>3+30</em>4+10<em>4
WPL(b)= 5</em>3+15<em>3+40</em>2+30<em>2+10</em>2</p>
<p>构造
<img src="https://upload-images.jianshu.io/upload_images/1863961-1acee79132eab45b.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<p>排序：A5, E10, B15, D30, C40</p>
<h5><span id="7-4-1-lin-jie-ju-zhen-adjacency-matrix">7.4.1 <strong>邻接矩阵</strong>(adjacency matrix)</span><a href="#7-4-1-lin-jie-ju-zhen-adjacency-matrix" class="header-anchor">#</a></h5>
<p>无向图：
<img src="https://upload-images.jianshu.io/upload_images/1863961-d9ce3ee2d67e574e.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<p>有向图：
<img src="https://upload-images.jianshu.io/upload_images/1863961-d915f439c8959688.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<p>有向网：
<img src="https://upload-images.jianshu.io/upload_images/1863961-f214b0dd61c11ca3.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<p>无向网的实现：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	INFINITY <span class="keyword">int32</span> = <span class="number">65536</span> <span class="comment">// 无穷</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Edge <span class="keyword">struct</span> &#123; <span class="comment">//边的顶点和权值</span></span><br><span class="line">	v0     <span class="keyword">string</span></span><br><span class="line">	v1     <span class="keyword">string</span></span><br><span class="line">	weight <span class="keyword">int32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Graph <span class="keyword">struct</span> &#123; <span class="comment">//无向网</span></span><br><span class="line">	v []<span class="keyword">string</span> <span class="comment">//顶点数组</span></span><br><span class="line">	e []Edge   <span class="comment">//边的权值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IndexOfVertex</span>(<span class="params">vs []<span class="keyword">string</span>, v <span class="keyword">string</span></span>) <span class="title">int</span></span> &#123; <span class="comment">//顶点在顶点数组的位置</span></span><br><span class="line">	<span class="keyword">for</span> i, value := <span class="keyword">range</span> vs &#123;</span><br><span class="line">		<span class="keyword">if</span> value == v &#123;</span><br><span class="line">			<span class="keyword">return</span> i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">panic</span>(<span class="string">"边的顶点不在顶点数组中！"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Graph</span>) <span class="title">AdjMatrix</span>(<span class="params"></span>) [][]<span class="title">int32</span></span> &#123;</span><br><span class="line">	vertexNum := <span class="built_in">len</span>(this.v)</span><br><span class="line"></span><br><span class="line">	adjM := <span class="built_in">make</span>([][]<span class="keyword">int32</span>, vertexNum) <span class="comment">//生成矩阵用两次make()</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; vertexNum; i++ &#123;   <span class="comment">//初始化</span></span><br><span class="line">		adjM[i] = <span class="built_in">make</span>([]<span class="keyword">int32</span>, vertexNum)</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; vertexNum; j++ &#123;</span><br><span class="line">			<span class="keyword">if</span> j == i &#123;</span><br><span class="line">				adjM[i][j] = <span class="number">0</span></span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				adjM[i][j] = INFINITY</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	e := this.e</span><br><span class="line">	v := this.v</span><br><span class="line">	<span class="keyword">for</span> _, edge := <span class="keyword">range</span> e &#123;</span><br><span class="line">		adjM[IndexOfVertex(v, edge.v0)][IndexOfVertex(v, edge.v1)] = edge.weight</span><br><span class="line">		adjM[IndexOfVertex(v, edge.v1)][IndexOfVertex(v, edge.v0)] = edge.weight <span class="comment">//因为是无向图所以是对称矩阵</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> adjM</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	v := []<span class="keyword">string</span>&#123;<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>, <span class="string">"D"</span>&#125;</span><br><span class="line">	e := []Edge&#123;</span><br><span class="line">		Edge&#123;<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="number">5</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"A"</span>, <span class="string">"C"</span>, <span class="number">3</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"A"</span>, <span class="string">"D"</span>, <span class="number">6</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"B"</span>, <span class="string">"C"</span>, <span class="number">7</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"C"</span>, <span class="string">"D"</span>, <span class="number">9</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	graph := &amp;Graph&#123;v, e&#125; <span class="comment">//生成无向网</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(graph.AdjMatrix())</span><br><span class="line">	<span class="comment">//     A    B     C    D</span></span><br><span class="line">	<span class="comment">//A [  0    5      3    6   ]</span></span><br><span class="line">	<span class="comment">//B [  5    0      7  65536 ]</span></span><br><span class="line">	<span class="comment">//C [  3    7      0    9   ]</span></span><br><span class="line">	<span class="comment">//D [  6  65536    9    0   ]</span></span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line">[[<span class="number">0</span> <span class="number">5</span> <span class="number">3</span> <span class="number">6</span>] [<span class="number">5</span> <span class="number">0</span> <span class="number">7</span> <span class="number">65536</span>] [<span class="number">3</span> <span class="number">7</span> <span class="number">0</span> <span class="number">9</span>] [<span class="number">6</span> <span class="number">65536</span> <span class="number">9</span> <span class="number">0</span>]]</span><br></pre></td></tr></table></figure>
<h5><span id="7-4-2-lin-jie-biao">7.4.2 <strong>邻接表</strong></span><a href="#7-4-2-lin-jie-biao" class="header-anchor">#</a></h5>
<p>无向图：
<img src="https://upload-images.jianshu.io/upload_images/1863961-a0854989cc6149ef.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Edge <span class="keyword">struct</span> &#123; <span class="comment">//给定顶点定义边</span></span><br><span class="line">	v0 <span class="keyword">string</span></span><br><span class="line">	v1 <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Graph <span class="keyword">struct</span> &#123; <span class="comment">//无向图</span></span><br><span class="line">	v []<span class="keyword">string</span> <span class="comment">//顶点数组</span></span><br><span class="line">	e []Edge   <span class="comment">//边数组</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123; <span class="comment">//邻接表的边表节点</span></span><br><span class="line">	adjvex <span class="keyword">int</span></span><br><span class="line">	next   *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123; <span class="comment">//邻接表的顶点</span></span><br><span class="line">	data      <span class="keyword">string</span></span><br><span class="line">	firstedge *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> LinkList <span class="keyword">struct</span> &#123; <span class="comment">//邻接表的链表</span></span><br><span class="line">	head *Vertex</span><br><span class="line">	rear *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *LinkList</span>) <span class="title">Append</span>(<span class="params">adjvex <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	newNode := &amp;Node&#123;adjvex: adjvex&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> this.rear == <span class="literal">nil</span> &#123;</span><br><span class="line">		this.head.firstedge = newNode</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		this.rear.next = newNode</span><br><span class="line">		this.rear = newNode</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	this.rear = newNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IndexOfVertex</span>(<span class="params">vs []<span class="keyword">string</span>, v <span class="keyword">string</span></span>) <span class="title">int</span></span> &#123; <span class="comment">//顶点在顶点数组的位置</span></span><br><span class="line">	<span class="keyword">for</span> i, value := <span class="keyword">range</span> vs &#123;</span><br><span class="line">		<span class="keyword">if</span> value == v &#123;</span><br><span class="line">			<span class="keyword">return</span> i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">panic</span>(<span class="string">"边的顶点不在顶点数组中！"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Graph</span>) <span class="title">AdjList</span>(<span class="params"></span>) []<span class="title">LinkList</span></span> &#123;</span><br><span class="line">	vertexNum := <span class="built_in">len</span>(this.v)</span><br><span class="line">	v := this.v</span><br><span class="line">	e := this.e</span><br><span class="line"></span><br><span class="line">	adjL := <span class="built_in">make</span>([]LinkList, vertexNum) <span class="comment">//用一个单向链表的数组来表示邻接表</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//for i := 0; i &lt; vertexNum; i++ &#123; //初始</span></span><br><span class="line">	<span class="comment">//  adjL[i].head.data = v[i]                因为此时head为nil，没有data字段</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; vertexNum; i++ &#123; <span class="comment">//初始</span></span><br><span class="line">		adjL[i].head = &amp;Vertex&#123;data: v[i]&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, edge := <span class="keyword">range</span> e &#123;</span><br><span class="line">		i := IndexOfVertex(v, edge.v0)</span><br><span class="line">		j := IndexOfVertex(v, edge.v1)</span><br><span class="line">		adjL[i].Append(j)</span><br><span class="line">		adjL[j].Append(i)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> adjL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	v := []<span class="keyword">string</span>&#123;<span class="string">"v0"</span>, <span class="string">"v1"</span>, <span class="string">"v2"</span>, <span class="string">"v3"</span>&#125;</span><br><span class="line">	e := []Edge&#123;</span><br><span class="line">		Edge&#123;<span class="string">"v0"</span>, <span class="string">"v1"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"v0"</span>, <span class="string">"v2"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"v0"</span>, <span class="string">"v3"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"v1"</span>, <span class="string">"v2"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"v2"</span>, <span class="string">"v3"</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	graph := &amp;Graph&#123;v, e&#125; <span class="comment">//生成无向图</span></span><br><span class="line"></span><br><span class="line">	adjL := graph.AdjList()</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> adjL &#123;</span><br><span class="line">		fmt.Print(v.head.data, <span class="string">" "</span>)</span><br><span class="line">		<span class="keyword">for</span> node := v.head.firstedge; node != <span class="literal">nil</span>; node = node.next &#123;</span><br><span class="line">			fmt.Print(node.adjvex, <span class="string">" "</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line">v0 <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> </span><br><span class="line">v1 <span class="number">0</span> <span class="number">2</span> </span><br><span class="line">v2 <span class="number">0</span> <span class="number">1</span> <span class="number">3</span> </span><br><span class="line">v3 <span class="number">0</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>有向网：
<img src="https://upload-images.jianshu.io/upload_images/1863961-95004e37703686d9.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<h5><span id="7-5-1-shen-du-you-xian-bian-li-depth-first-search">7.5.1 <strong>深度优先遍历</strong>(Depth First Search)</span><a href="#7-5-1-shen-du-you-xian-bian-li-depth-first-search" class="header-anchor">#</a></h5>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-4139cb15eb112b82.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> flag []<span class="keyword">bool</span> <span class="comment">//全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Edge <span class="keyword">struct</span> &#123; <span class="comment">//给定顶点定义边</span></span><br><span class="line">	v0 <span class="keyword">string</span></span><br><span class="line">	v1 <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Graph <span class="keyword">struct</span> &#123; <span class="comment">//无向图</span></span><br><span class="line">	v []<span class="keyword">string</span> <span class="comment">//顶点数组</span></span><br><span class="line">	e []Edge   <span class="comment">//边数组</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Graph</span>) <span class="title">AdjMatrix</span>(<span class="params"></span>) [][]<span class="title">int</span></span> &#123;</span><br><span class="line">	vertexNum := <span class="built_in">len</span>(this.v)</span><br><span class="line"></span><br><span class="line">	adjM := <span class="built_in">make</span>([][]<span class="keyword">int</span>, vertexNum) <span class="comment">//生成矩阵用两次make()</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; vertexNum; i++ &#123; <span class="comment">//初始化</span></span><br><span class="line">		adjM[i] = <span class="built_in">make</span>([]<span class="keyword">int</span>, vertexNum)</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; vertexNum; j++ &#123;</span><br><span class="line">			adjM[i][j] = <span class="number">0</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	e := this.e</span><br><span class="line">	v := this.v</span><br><span class="line">	<span class="keyword">for</span> _, edge := <span class="keyword">range</span> e &#123;</span><br><span class="line">		adjM[IndexOfVertex(v, edge.v0)][IndexOfVertex(v, edge.v1)] = <span class="number">1</span></span><br><span class="line">		adjM[IndexOfVertex(v, edge.v1)][IndexOfVertex(v, edge.v0)] = <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> adjM</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IndexOfVertex</span>(<span class="params">vs []<span class="keyword">string</span>, v <span class="keyword">string</span></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i, value := <span class="keyword">range</span> vs &#123;</span><br><span class="line">		<span class="keyword">if</span> value == v &#123;</span><br><span class="line">			<span class="keyword">return</span> i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">panic</span>(<span class="string">"边的顶点不在顶点数组中！"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">DFSTraverse</span>(<span class="params">adjM [][]<span class="keyword">int</span></span>)</span> &#123; <span class="comment">//输入无向图的邻接矩阵</span></span><br><span class="line">	vertexNum := <span class="built_in">len</span>(adjM)</span><br><span class="line"></span><br><span class="line">	flag = <span class="built_in">make</span>([]<span class="keyword">bool</span>, vertexNum) <span class="comment">//初始化flag，注意这里不能用 :=</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; vertexNum; i++ &#123;</span><br><span class="line">		flag[i] = <span class="literal">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; vertexNum; i++ &#123; <span class="comment">//对未访问的节点执行深度搜索</span></span><br><span class="line">		<span class="keyword">if</span> !flag[i] &#123;</span><br><span class="line">			DFS(vertexNum, i, adjM)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">DFS</span>(<span class="params">vertexNum <span class="keyword">int</span>, i <span class="keyword">int</span>, adjM [][]<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	flag[i] = <span class="literal">true</span></span><br><span class="line">	fmt.Print(i, <span class="string">"  "</span>)               <span class="comment">//打印被访问的节点序号</span></span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; vertexNum; j++ &#123; <span class="comment">//对未被访问的邻节点递归</span></span><br><span class="line">		<span class="keyword">if</span> adjM[i][j] == <span class="number">1</span> &amp;&amp; !flag[j] &#123;</span><br><span class="line">			DFS(vertexNum, j, adjM)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	v := []<span class="keyword">string</span>&#123;<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>, <span class="string">"D"</span>, <span class="string">"E"</span>, <span class="string">"F"</span>, <span class="string">"G"</span>, <span class="string">"H"</span>, <span class="string">"I"</span>&#125;</span><br><span class="line">	e := []Edge&#123;</span><br><span class="line">		Edge&#123;<span class="string">"A"</span>, <span class="string">"B"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"A"</span>, <span class="string">"F"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"B"</span>, <span class="string">"C"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"B"</span>, <span class="string">"G"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"B"</span>, <span class="string">"I"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"F"</span>, <span class="string">"G"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"F"</span>, <span class="string">"E"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"C"</span>, <span class="string">"D"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"C"</span>, <span class="string">"I"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"G"</span>, <span class="string">"D"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"G"</span>, <span class="string">"H"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"E"</span>, <span class="string">"D"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"E"</span>, <span class="string">"H"</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	graph := &amp;Graph&#123;v, e&#125; <span class="comment">//生成无向图</span></span><br><span class="line">	adjM := graph.AdjMatrix()</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(adjM); i++ &#123;</span><br><span class="line">		fmt.Println(adjM[i])</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"-------------------"</span>)</span><br><span class="line">	DFSTraverse(adjM)</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">[<span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span>]</span><br><span class="line">[<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">-------------------</span><br><span class="line"><span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span></span><br></pre></td></tr></table></figure>
<h5><span id="7-5-2-guang-du-you-xian-bian-li-breadth-first-search">7.5.2 <strong>广度优先遍历</strong>(Breadth First Search)</span><a href="#7-5-2-guang-du-you-xian-bian-li-breadth-first-search" class="header-anchor">#</a></h5>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-1aab42f56392a97a.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Edge <span class="keyword">struct</span> &#123; <span class="comment">//给定顶点定义边</span></span><br><span class="line">	v0 <span class="keyword">string</span></span><br><span class="line">	v1 <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Graph <span class="keyword">struct</span> &#123; <span class="comment">//无向图</span></span><br><span class="line">	v []<span class="keyword">string</span> <span class="comment">//顶点数组</span></span><br><span class="line">	e []Edge   <span class="comment">//边数组</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123; <span class="comment">//邻接表的边表节点</span></span><br><span class="line">	adjvex <span class="keyword">int</span></span><br><span class="line">	next   *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Vertex <span class="keyword">struct</span> &#123; <span class="comment">//邻接表的顶点</span></span><br><span class="line">	data      <span class="keyword">string</span></span><br><span class="line">	firstedge *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> LinkList <span class="keyword">struct</span> &#123; <span class="comment">//邻接表的链表</span></span><br><span class="line">	head *Vertex</span><br><span class="line">	rear *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Queue <span class="keyword">struct</span> &#123;</span><br><span class="line">	nums []<span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Queue</span>) <span class="title">Push</span>(<span class="params">n <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	this.nums = <span class="built_in">append</span>(this.nums, n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Queue</span>) <span class="title">Pop</span>(<span class="params"></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	res := this.nums[<span class="number">0</span>]</span><br><span class="line">	this.nums = this.nums[<span class="number">1</span>:]</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *LinkList</span>) <span class="title">Append</span>(<span class="params">adjvex <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	newNode := &amp;Node&#123;adjvex: adjvex&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> this.rear == <span class="literal">nil</span> &#123;</span><br><span class="line">		this.head.firstedge = newNode</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		this.rear.next = newNode</span><br><span class="line">		this.rear = newNode</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	this.rear = newNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IndexOfVertex</span>(<span class="params">vs []<span class="keyword">string</span>, v <span class="keyword">string</span></span>) <span class="title">int</span></span> &#123; <span class="comment">//顶点在顶点数组的位置</span></span><br><span class="line">	<span class="keyword">for</span> i, value := <span class="keyword">range</span> vs &#123;</span><br><span class="line">		<span class="keyword">if</span> value == v &#123;</span><br><span class="line">			<span class="keyword">return</span> i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">panic</span>(<span class="string">"边的顶点不在顶点数组中！"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> (<span class="params">this *Graph</span>) <span class="title">AdjList</span>(<span class="params"></span>) []<span class="title">LinkList</span></span> &#123;</span><br><span class="line">	vertexNum := <span class="built_in">len</span>(this.v)</span><br><span class="line">	v := this.v</span><br><span class="line">	e := this.e</span><br><span class="line"></span><br><span class="line">	adjL := <span class="built_in">make</span>([]LinkList, vertexNum) <span class="comment">//用一个单向链表的数组来表示邻接表</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//for i := 0; i &lt; vertexNum; i++ &#123; //初始</span></span><br><span class="line">	<span class="comment">//	adjL[i].head.data = v[i]                因为此时head为nil，没有data字段</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; vertexNum; i++ &#123; <span class="comment">//初始</span></span><br><span class="line">		adjL[i].head = &amp;Vertex&#123;data: v[i]&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, edge := <span class="keyword">range</span> e &#123;</span><br><span class="line">		i := IndexOfVertex(v, edge.v0)</span><br><span class="line">		j := IndexOfVertex(v, edge.v1)</span><br><span class="line">		adjL[i].Append(j)</span><br><span class="line">		adjL[j].Append(i)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> adjL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BFSTraverse</span>(<span class="params">adjL []LinkList</span>)</span> &#123; <span class="comment">//输入邻接表</span></span><br><span class="line">	vertexNum := <span class="built_in">len</span>(adjL)</span><br><span class="line"></span><br><span class="line">	flag := <span class="built_in">make</span>([]<span class="keyword">bool</span>, vertexNum) <span class="comment">//标记被访问的节点</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; vertexNum; i++ &#123;</span><br><span class="line">		flag[i] = <span class="literal">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	Q := <span class="built_in">new</span>(Queue) <span class="comment">//队列</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; vertexNum; i++ &#123;</span><br><span class="line">		<span class="keyword">if</span> !flag[i] &#123; <span class="comment">//如果顶点未被访问</span></span><br><span class="line">			flag[i] = <span class="literal">true</span></span><br><span class="line">			Q.Push(i)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span> <span class="built_in">len</span>(Q.nums) &gt; <span class="number">0</span> &#123; <span class="comment">//队列不为空</span></span><br><span class="line">				j := Q.Pop()</span><br><span class="line">				fmt.Print(adjL[j].head.data, <span class="string">" "</span>) <span class="comment">//打印节点</span></span><br><span class="line">				<span class="keyword">for</span> node := adjL[j].head.firstedge; node != <span class="literal">nil</span>; node = node.next &#123;</span><br><span class="line">					<span class="keyword">if</span> flag[node.adjvex] == <span class="literal">false</span> &#123;</span><br><span class="line">						flag[node.adjvex] = <span class="literal">true</span></span><br><span class="line">						Q.Push(node.adjvex)</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	v := []<span class="keyword">string</span>&#123;<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>, <span class="string">"D"</span>, <span class="string">"E"</span>, <span class="string">"F"</span>, <span class="string">"G"</span>, <span class="string">"H"</span>, <span class="string">"I"</span>&#125;</span><br><span class="line">	e := []Edge&#123;</span><br><span class="line">		Edge&#123;<span class="string">"A"</span>, <span class="string">"B"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"A"</span>, <span class="string">"F"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"B"</span>, <span class="string">"C"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"B"</span>, <span class="string">"G"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"B"</span>, <span class="string">"I"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"F"</span>, <span class="string">"G"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"F"</span>, <span class="string">"E"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"C"</span>, <span class="string">"D"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"C"</span>, <span class="string">"I"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"G"</span>, <span class="string">"D"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"G"</span>, <span class="string">"H"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"E"</span>, <span class="string">"D"</span>&#125;,</span><br><span class="line">		Edge&#123;<span class="string">"E"</span>, <span class="string">"H"</span>&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	graph := &amp;Graph&#123;v, e&#125; <span class="comment">//生成无向图</span></span><br><span class="line"></span><br><span class="line">	adjL := graph.AdjList()</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> adjL &#123;</span><br><span class="line">		fmt.Print(v.head.data, <span class="string">" "</span>)</span><br><span class="line">		<span class="keyword">for</span> node := v.head.firstedge; node != <span class="literal">nil</span>; node = node.next &#123;</span><br><span class="line">			fmt.Print(adjL[node.adjvex].head.data, <span class="string">" "</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"-----------------"</span>)</span><br><span class="line">	BFSTraverse(adjL)</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line">A B F </span><br><span class="line">B A C G I </span><br><span class="line">C B D I </span><br><span class="line">D C G E </span><br><span class="line">E F D H </span><br><span class="line">F A G E </span><br><span class="line">G B F D H </span><br><span class="line">H G E </span><br><span class="line">I B C </span><br><span class="line">-----------------</span><br><span class="line">A B F C G I E D H</span><br></pre></td></tr></table></figure>
<h5><span id="8-4-1-er-fen-cha-zhao">8.4.1 二分查找</span><a href="#8-4-1-er-fen-cha-zhao" class="header-anchor">#</a></h5>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-e7c869cf58b3751b.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BiSearch</span>(<span class="params">a []<span class="keyword">int</span>, n, key <span class="keyword">int</span></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> low, high, mid <span class="keyword">int</span></span><br><span class="line">	low = <span class="number">1</span></span><br><span class="line">	high = n</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> low &lt;= high &#123;</span><br><span class="line">		mid = (low + high) / <span class="number">2</span></span><br><span class="line">		<span class="comment">//mid = low + (high-low)(key-1)/(99-1)  插值</span></span><br><span class="line">		<span class="keyword">if</span> key == a[mid] &#123;</span><br><span class="line">			<span class="keyword">return</span> mid</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> key &lt; a[mid] &#123;</span><br><span class="line">			high = mid - <span class="number">1</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			low = mid + <span class="number">1</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">16</span>, <span class="number">24</span>, <span class="number">35</span>, <span class="number">47</span>, <span class="number">59</span>, <span class="number">62</span>, <span class="number">73</span>, <span class="number">88</span>, <span class="number">99</span>&#125;</span><br><span class="line">	fmt.Println(BiSearch(a, <span class="number">10</span>, <span class="number">62</span>))</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure>
<h4><span id="8-6-er-cha-cha-zhao-shu-binary-sort-tree">8.6 二叉查找树(Binary Sort Tree)</span><a href="#8-6-er-cha-cha-zhao-shu-binary-sort-tree" class="header-anchor">#</a></h4>
<p>左小右大
<img src="https://upload-images.jianshu.io/upload_images/1863961-ac2cd3676f5e970c.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BinaryTree <span class="keyword">struct</span> &#123;</span><br><span class="line">	data  <span class="keyword">int</span></span><br><span class="line">	left  *BinaryTree</span><br><span class="line">	right *BinaryTree</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SearchBST</span>(<span class="params">root *BinaryTree, key <span class="keyword">int</span></span>) <span class="title">bool</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> key &lt; root.data:</span><br><span class="line">		<span class="keyword">return</span> SearchBST(root.left, key)</span><br><span class="line">	<span class="keyword">case</span> key &gt; root.data:</span><br><span class="line">		<span class="keyword">return</span> SearchBST(root.right, key)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	node10 := &amp;BinaryTree&#123;data: <span class="number">37</span>&#125;</span><br><span class="line">	node9 := &amp;BinaryTree&#123;data: <span class="number">93</span>&#125;</span><br><span class="line">	node8 := &amp;BinaryTree&#123;data: <span class="number">51</span>&#125;</span><br><span class="line">	node7 := &amp;BinaryTree&#123;data: <span class="number">35</span>, right: node10&#125;</span><br><span class="line">	node6 := &amp;BinaryTree&#123;data: <span class="number">99</span>, left: node9&#125;</span><br><span class="line">	node5 := &amp;BinaryTree&#123;data: <span class="number">73</span>&#125;</span><br><span class="line">	node4 := &amp;BinaryTree&#123;data: <span class="number">47</span>, left: node7, right: node8&#125;</span><br><span class="line">	node3 := &amp;BinaryTree&#123;<span class="number">88</span>, node5, node6&#125;</span><br><span class="line">	node2 := &amp;BinaryTree&#123;data: <span class="number">58</span>, left: node4&#125;</span><br><span class="line">	root := &amp;BinaryTree&#123;<span class="number">62</span>, node2, node3&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Print(SearchBST(root, <span class="number">73</span>), <span class="string">" "</span>)</span><br><span class="line">	fmt.Print(SearchBST(root, <span class="number">99</span>), <span class="string">" "</span>)</span><br><span class="line">	fmt.Print(SearchBST(root, <span class="number">37</span>), <span class="string">" "</span>)</span><br><span class="line">	fmt.Print(SearchBST(root, <span class="number">48</span>), <span class="string">" "</span>)</span><br><span class="line">	fmt.Print(SearchBST(root, <span class="number">100</span>))</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line"><span class="literal">true</span> <span class="literal">true</span> <span class="literal">true</span> <span class="literal">false</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h5><span id="8-6-2-er-cha-cha-zhao-shu-cha-ru">8.6.2 二叉查找树插入</span><a href="#8-6-2-er-cha-cha-zhao-shu-cha-ru" class="header-anchor">#</a></h5>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-a95e74e49282a74c.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BinaryTree <span class="keyword">struct</span> &#123;</span><br><span class="line">	data  <span class="keyword">int</span></span><br><span class="line">	left  *BinaryTree</span><br><span class="line">	right *BinaryTree</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InsertBST</span>(<span class="params">root *BinaryTree, key <span class="keyword">int</span></span>) (<span class="params"><span class="keyword">bool</span>, *BinaryTree</span>)</span> &#123;</span><br><span class="line">	<span class="comment">//if SearchBST(root, key) &#123;  //假设不存在</span></span><br><span class="line">	<span class="comment">//	return false, root</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>, Insert(root, key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Insert</span>(<span class="params">root *BinaryTree, key <span class="keyword">int</span></span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> &amp;BinaryTree&#123;data: key&#125; <span class="comment">//插入的本质要生成新的节点</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> key &lt; root.data &#123;</span><br><span class="line">		root.left = Insert(root.left, key)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123; <span class="comment">// 没有key = root.data 的情况</span></span><br><span class="line">		root.right = Insert(root.right, key)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	node10 := &amp;BinaryTree&#123;data: <span class="number">37</span>&#125;</span><br><span class="line">	node9 := &amp;BinaryTree&#123;data: <span class="number">93</span>&#125;</span><br><span class="line">	node8 := &amp;BinaryTree&#123;data: <span class="number">51</span>&#125;</span><br><span class="line">	node7 := &amp;BinaryTree&#123;data: <span class="number">35</span>, right: node10&#125;</span><br><span class="line">	node6 := &amp;BinaryTree&#123;data: <span class="number">99</span>, left: node9&#125;</span><br><span class="line">	node5 := &amp;BinaryTree&#123;data: <span class="number">73</span>&#125;</span><br><span class="line">	node4 := &amp;BinaryTree&#123;data: <span class="number">47</span>, left: node7, right: node8&#125;</span><br><span class="line">	node3 := &amp;BinaryTree&#123;<span class="number">88</span>, node5, node6&#125;</span><br><span class="line">	node2 := &amp;BinaryTree&#123;data: <span class="number">58</span>, left: node4&#125;</span><br><span class="line">	root := &amp;BinaryTree&#123;<span class="number">62</span>, node2, node3&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Print(root.right.right.left.data, root.right.right.left.right, <span class="string">" "</span>)</span><br><span class="line">	_, root = InsertBST(root, <span class="number">95</span>)</span><br><span class="line">	fmt.Print(root.right.right.left.right.data)</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line"><span class="number">93</span> &lt;<span class="literal">nil</span>&gt; <span class="number">95</span></span><br></pre></td></tr></table></figure>
<h5><span id="8-6-3-er-cha-cha-zhao-shu-shan-chu">8.6.3 二叉查找树删除</span><a href="#8-6-3-er-cha-cha-zhao-shu-shan-chu" class="header-anchor">#</a></h5>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-73f49cf999259ca8.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-f901a4ee0de2558c.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BinaryTree <span class="keyword">struct</span> &#123;</span><br><span class="line">	data  <span class="keyword">int</span></span><br><span class="line">	left  *BinaryTree</span><br><span class="line">	right *BinaryTree</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除data为key的节点，并返回该二叉树的根节点。</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">DeleteBST</span>(<span class="params">root *BinaryTree, key <span class="keyword">int</span></span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> key &gt; root.data: <span class="comment">//在右子树中</span></span><br><span class="line">		root.right = DeleteBST(root.right, key)</span><br><span class="line">	<span class="keyword">case</span> key &lt; root.data: <span class="comment">//在左子树中</span></span><br><span class="line">		root.left = DeleteBST(root.left, key)</span><br><span class="line">	<span class="keyword">default</span>: <span class="comment">//key == root.data</span></span><br><span class="line">		<span class="keyword">if</span> root.left == <span class="literal">nil</span> &amp;&amp; root.right == <span class="literal">nil</span> &#123; <span class="comment">//该节点为叶节点</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> root.left == <span class="literal">nil</span> &amp;&amp; root.right != <span class="literal">nil</span> &#123; <span class="comment">//该节点仅有右子树</span></span><br><span class="line">			<span class="keyword">return</span> root.right</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> root.left != <span class="literal">nil</span> &amp;&amp; root.right == <span class="literal">nil</span> &#123; <span class="comment">//该节点仅有左子树</span></span><br><span class="line">			<span class="keyword">return</span> root.left</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123; <span class="comment">//该节点有左、右子树</span></span><br><span class="line">			success := FindMin(root.right) <span class="comment">//找到key的后继节点,即48</span></span><br><span class="line">			root.right = DeleteBST(root.right, success)</span><br><span class="line">			root.data = success</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//找到BST中data最小的节点</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">FindMin</span>(<span class="params">root *BinaryTree</span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root.left == <span class="literal">nil</span> &#123; <span class="comment">//最小值在根节点</span></span><br><span class="line">		<span class="keyword">return</span> root.data</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> FindMin(root.left) <span class="comment">//最小值在左子树</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	node16 := &amp;BinaryTree&#123;data: <span class="number">50</span>&#125;</span><br><span class="line">	node15 := &amp;BinaryTree&#123;data: <span class="number">48</span>&#125;</span><br><span class="line">	node14 := &amp;BinaryTree&#123;data: <span class="number">36</span>&#125;</span><br><span class="line">	node13 := &amp;BinaryTree&#123;data: <span class="number">56</span>&#125;</span><br><span class="line">	node12 := &amp;BinaryTree&#123;<span class="number">49</span>, node15, node16&#125;</span><br><span class="line">	node11 := &amp;BinaryTree&#123;data: <span class="number">37</span>, left: node14&#125;</span><br><span class="line">	node10 := &amp;BinaryTree&#123;data: <span class="number">29</span>&#125;</span><br><span class="line">	node9 := &amp;BinaryTree&#123;data: <span class="number">93</span>&#125;</span><br><span class="line">	node8 := &amp;BinaryTree&#123;<span class="number">51</span>, node12, node13&#125;</span><br><span class="line">	node7 := &amp;BinaryTree&#123;<span class="number">35</span>, node10, node11&#125;</span><br><span class="line">	node6 := &amp;BinaryTree&#123;data: <span class="number">99</span>, left: node9&#125;</span><br><span class="line">	node5 := &amp;BinaryTree&#123;data: <span class="number">73</span>&#125;</span><br><span class="line">	node4 := &amp;BinaryTree&#123;data: <span class="number">47</span>, left: node7, right: node8&#125;</span><br><span class="line">	node3 := &amp;BinaryTree&#123;<span class="number">88</span>, node5, node6&#125;</span><br><span class="line">	node2 := &amp;BinaryTree&#123;data: <span class="number">58</span>, left: node4&#125;</span><br><span class="line">	root := &amp;BinaryTree&#123;<span class="number">62</span>, node2, node3&#125;</span><br><span class="line"></span><br><span class="line">	root = DeleteBST(root, <span class="number">47</span>)</span><br><span class="line">	NewNode := root.left.left</span><br><span class="line">	fmt.Print(NewNode.data, <span class="string">" "</span>) <span class="comment">//打印代替删除位置的新节点</span></span><br><span class="line">	fmt.Print(NewNode.left.data, NewNode.right.data)</span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line"><span class="number">48</span> <span class="number">35</span> <span class="number">51</span></span><br></pre></td></tr></table></figure>
<h4><span id="8-7-ping-heng-er-cha-shu-avl-shu">8.7 平衡二叉树(AVL树)</span><a href="#8-7-ping-heng-er-cha-shu-avl-shu" class="header-anchor">#</a></h4>
<p><strong>平衡因子</strong>(BF)=左子树的深度-右子树的深度
<strong>旋转：</strong>
<img src="https://upload-images.jianshu.io/upload_images/1863961-b493bc28e8068b46.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt="">
<img src="https://upload-images.jianshu.io/upload_images/1863961-b6715f1391c81757.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//右旋</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">RRotate</span>(<span class="params">k2 *BinaryTree</span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	k1 := k2.left</span><br><span class="line">	y := k1.right</span><br><span class="line">	k1.right = k2</span><br><span class="line">	k2.left = y</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> k1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>双旋转：</strong>
<img src="https://upload-images.jianshu.io/upload_images/1863961-132deac059f8995f.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//左右旋转</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LRRotate</span>(<span class="params">k3 *BinaryTree</span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	k3.left = LRotate(k3.left)</span><br><span class="line">	<span class="keyword">return</span> RRotate(k3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-fe05b14c2bdb3e2c.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/800" alt=""></p>
<p>将任意二叉树一次性调整AVL</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BinaryTree <span class="keyword">struct</span> &#123;</span><br><span class="line">	data  <span class="keyword">int</span></span><br><span class="line">	bf    <span class="keyword">int</span> <span class="comment">//Balance Factor</span></span><br><span class="line">	left  *BinaryTree</span><br><span class="line">	right *BinaryTree</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//右旋</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">R_Rotate</span>(<span class="params">root *BinaryTree</span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	a := root.left</span><br><span class="line">	b := a.right</span><br><span class="line">	a.right = root</span><br><span class="line">	root.left = b</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//左旋</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">L_Rotate</span>(<span class="params">root *BinaryTree</span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	a := root.right</span><br><span class="line">	b := a.left</span><br><span class="line">	a.left = root</span><br><span class="line">	root.right = b</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//左右旋转</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LR_Rotate</span>(<span class="params">root *BinaryTree</span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	root.left = L_Rotate(root.left)</span><br><span class="line">	<span class="keyword">return</span> R_Rotate(root)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//右左旋转</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">RL_Rotate</span>(<span class="params">root *BinaryTree</span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	root.right = R_Rotate(root.right)</span><br><span class="line">	<span class="keyword">return</span> L_Rotate(root)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将任意二叉树转化成AVL</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Balance</span>(<span class="params">root *BinaryTree</span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	a := &amp;BinaryTree&#123;left: root&#125; <span class="comment">//给二叉树生成一个父母节点</span></span><br><span class="line">	_, isAVL := Bal(root)        <span class="comment">//调整二叉树的子树并判断二叉树是否平衡</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> !isAVL &#123;</span><br><span class="line">		Bal(a)                 <span class="comment">//处理a的左子树，即二叉树</span></span><br><span class="line">		_, isAVL = Bal(a.left) <span class="comment">//判断二叉树是否平衡</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a.left <span class="comment">//返回二叉树</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调整子树</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Bal</span>(<span class="params">root *BinaryTree</span>) (<span class="params"><span class="keyword">int</span>, <span class="keyword">bool</span></span>)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	leftHeight, leftIsBalanced := Bal(root.left)</span><br><span class="line">	rightHeight, rightIsBalanced := Bal(root.right)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> !leftIsBalanced &#123;</span><br><span class="line">		root.left = Rotate(root.left)    <span class="comment">//调整左子树</span></span><br><span class="line">		leftHeight = UpdateBF(root.left) <span class="comment">//刷新左子树的BF和高度</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> !rightIsBalanced &#123;</span><br><span class="line">		root.right = Rotate(root.right)</span><br><span class="line">		rightHeight = UpdateBF(root.right)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	root.bf = leftHeight - rightHeight <span class="comment">//计算本身的BF</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> Abs(root.bf) &lt;= <span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Max(leftHeight, rightHeight) + <span class="number">1</span>, <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> Max(leftHeight, rightHeight) + <span class="number">1</span>, <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//对不平衡树进行旋转调整</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Rotate</span>(<span class="params">root *BinaryTree</span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root.bf &gt; <span class="number">0</span> &#123; <span class="comment">//左边太重，需要右旋</span></span><br><span class="line">		<span class="keyword">if</span> root.left.bf &lt; <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> LR_Rotate(root)</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> R_Rotate(root)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> root.right.bf &gt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> RL_Rotate(root)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> L_Rotate(root)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UpdateBF</span>(<span class="params">root *BinaryTree</span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	leftHeight := UpdateBF(root.left)</span><br><span class="line">	rightHeight := UpdateBF(root.right)</span><br><span class="line">	root.bf = leftHeight - rightHeight</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> Max(leftHeight, rightHeight) + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Max</span>(<span class="params">a, b <span class="keyword">int</span></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">		<span class="keyword">return</span> a</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Abs</span>(<span class="params">a <span class="keyword">int</span></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> a &gt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> -a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InsertBST</span>(<span class="params">root *BinaryTree, key <span class="keyword">int</span></span>) (<span class="params"><span class="keyword">bool</span>, *BinaryTree</span>)</span> &#123;</span><br><span class="line">	<span class="comment">//if SearchBST(root, key) &#123;  //假设不存在</span></span><br><span class="line">	<span class="comment">//  return false, root</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>, Insert(root, key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Insert</span>(<span class="params">root *BinaryTree, key <span class="keyword">int</span></span>) *<span class="title">BinaryTree</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> &amp;BinaryTree&#123;data: key&#125; <span class="comment">//插入的本质要生成新的节点</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> key &lt; root.data &#123;</span><br><span class="line">		root.left = Insert(root.left, key)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123; <span class="comment">// 没有key = root.data 的情况</span></span><br><span class="line">		root.right = Insert(root.right, key)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PrintBF</span>(<span class="params">root *BinaryTree</span>)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	PrintBF(root.left)</span><br><span class="line">	fmt.Print(root.bf, <span class="string">" "</span>)</span><br><span class="line">	PrintBF(root.right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	root := &amp;BinaryTree&#123;data: <span class="number">1</span>&#125;</span><br><span class="line">	InsertBST(root, <span class="number">7</span>)</span><br><span class="line">	InsertBST(root, <span class="number">2</span>)</span><br><span class="line">	InsertBST(root, <span class="number">4</span>)</span><br><span class="line">	InsertBST(root, <span class="number">8</span>)</span><br><span class="line">	InsertBST(root, <span class="number">3</span>)</span><br><span class="line">	InsertBST(root, <span class="number">10</span>)</span><br><span class="line">	InsertBST(root, <span class="number">5</span>)</span><br><span class="line">	InsertBST(root, <span class="number">9</span>)</span><br><span class="line">	InsertBST(root, <span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">	UpdateBF(root)</span><br><span class="line">	PrintBF(root) <span class="comment">//二叉树的BF</span></span><br><span class="line">	fmt.Println()</span><br><span class="line">	PrintBF(Balance(root)) <span class="comment">//平衡调整后的二叉树的BF</span></span><br><span class="line">&#125;</span><br><span class="line">&gt; Output:</span><br><span class="line">command-line-arguments</span><br><span class="line"><span class="number">-5</span> <span class="number">-3</span> <span class="number">0</span> <span class="number">-1</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">-2</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">-1</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h5><span id="9-2-1-pai-xu-de-wen-ding-xing">9.2.1 排序的稳定性</span><a href="#9-2-1-pai-xu-de-wen-ding-xing" class="header-anchor">#</a></h5>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-da3eb9745c415426.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<h5><span id="9-2-2-nei-pai-xu-he-wai-pai-xu">9.2.2 内排序和外排序</span><a href="#9-2-2-nei-pai-xu-he-wai-pai-xu" class="header-anchor">#</a></h5>
<p><strong>内排序</strong>是在排序的整个过程中，待排序的所有记录全部在内存中。<strong>外排序</strong>的整个过程则需要在内外存之间交换数据。</p>
<h5><span id="9-3-2-mou-pao-pai-xu-suan-fa-bubble-sort">9.3.2 冒泡排序算法(Bubble Sort)</span><a href="#9-3-2-mou-pao-pai-xu-suan-fa-bubble-sort" class="header-anchor">#</a></h5>
<p>冒泡排序就是把小的元素往前调或者把大的元素往后调。比较是相邻的两个元素比较，交换也发生在这两个元素之间。所以，如果两个元素相等，我想你是不会再无聊地把他们俩交换一下的；如果两个相等的元素没有相邻，那么即使通过前面的两两交换把两个相邻起来，这时候也不会交换，所以相同元素的前后顺序并没有改 变，所以冒泡排序是一种稳定排序算法。
<img src="https://upload-images.jianshu.io/upload_images/1863961-35aca3bf05e9be84.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BubbleSort</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	length := <span class="built_in">len</span>(a)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; length<span class="number">-1</span>; i++ &#123; <span class="comment">//需要交换(length-2)次，从后往前排</span></span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">1</span>; j &lt; length-i; j++ &#123; <span class="comment">//当i=1时，j可以取到(length-2)</span></span><br><span class="line">			<span class="keyword">if</span> a[j] &gt; a[j+<span class="number">1</span>] &#123;</span><br><span class="line">				a[j], a[j+<span class="number">1</span>] = a[j+<span class="number">1</span>], a[j]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>&#125;</span><br><span class="line">	BubbleSort(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>递归实现. for 循环找出最大值排到末尾，去掉末尾把对新的序列递归</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func RecurBubble(a []int) &#123;</span><br><span class="line">	length := len(a)</span><br><span class="line">	if length &lt; 3 &#123;  //递归跳出条件</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	for j := 1; j &lt;= length-2; j++ &#123;</span><br><span class="line">		if a[j] &gt; a[j+1] &#123;</span><br><span class="line">			a[j], a[j+1] = a[j+1], a[j]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	a = a[0 : length-1] //不包括第 length-1 个元素</span><br><span class="line"></span><br><span class="line">	RecurBubble(a)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	a := []int&#123;0, 9, 1, 5, 8, 3, 7, 4, 6, 2&#125;</span><br><span class="line">	RecurBubble(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="9-3-3-mou-pao-pai-xu-you-hua">9.3.3 冒泡排序优化</span><a href="#9-3-3-mou-pao-pai-xu-you-hua" class="header-anchor">#</a></h5>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-2c7713c7b8115947.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BubbleSort2</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	flag := <span class="literal">true</span> <span class="comment">// 有数据交换</span></span><br><span class="line">	length := <span class="built_in">len</span>(a)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; length<span class="number">-1</span> &amp;&amp; flag; i++ &#123; </span><br><span class="line">		flag = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">1</span>; j &lt; length-i; j++ &#123;</span><br><span class="line">			<span class="keyword">if</span> a[j] &gt; a[j+<span class="number">1</span>] &#123;</span><br><span class="line">				a[j], a[j+<span class="number">1</span>] = a[j+<span class="number">1</span>], a[j]</span><br><span class="line">				flag = <span class="literal">true</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>&#125;</span><br><span class="line">	BubbleSort2(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="9-4-1-jian-dan-xuan-ze-pai-xu-simple-selection-sort">9.4.1 简单选择排序(Simple Selection Sort)</span><a href="#9-4-1-jian-dan-xuan-ze-pai-xu-simple-selection-sort" class="header-anchor">#</a></h3>
<p>复杂度与冒泡排序同为$O(n^{2})$,但性能更优(数据交换次数更少)。选择排序是给每个位置选择当前元素最小的，比如给第一个位置选择最小的，在剩余元素里面给第二个元素选择第二小的，依次类推，直到第n-1个元素，第n个 元素不用选择了，因为只剩下它一个最大的元素了。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SelectionSort</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> min <span class="keyword">int</span></span><br><span class="line">	length := <span class="built_in">len</span>(a)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; length<span class="number">-1</span>; i++ &#123; <span class="comment">//插入次数(length-2)，从前往后排；把后面序列中较小的数插</span></span><br><span class="line">		min = i</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 循环找出序列中的最小数的下标</span></span><br><span class="line">		<span class="keyword">for</span> j := i + <span class="number">1</span>; j &lt; length; j++ &#123; <span class="comment">//j取到i后的所有数</span></span><br><span class="line">			<span class="keyword">if</span> a[j] &lt; a[min] &#123; <span class="comment">//之后有更小的数</span></span><br><span class="line">				min = j</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> i != min &#123; <span class="comment">//下标改变，交换，防止数据丢失</span></span><br><span class="line">			a[i], a[min] = a[min], a[i]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>&#125;</span><br><span class="line">	SelectionSort(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>反过来排</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func SelectionSort(a []int) &#123;</span><br><span class="line">	var max int</span><br><span class="line">	length := len(a)</span><br><span class="line"></span><br><span class="line">	for i := length - 1; i &gt; 0; i-- &#123; 从大到小排</span><br><span class="line">		max = i</span><br><span class="line">		for j := 1; j &lt; i; j++ &#123;</span><br><span class="line">			if a[j] &gt; a[max] &#123;</span><br><span class="line">				max = j</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		if max != i &#123;</span><br><span class="line">			a[i], a[max] = a[max], a[i]</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	a := []int&#123;0, 9, 1, 5, 8, 3, 7, 4, 6, 2&#125;</span><br><span class="line">	SelectionSort(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>递归</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SelectionSort</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	length := <span class="built_in">len</span>(a)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> length &lt; <span class="number">3</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	max := length - <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">1</span>; j &lt; length<span class="number">-1</span>; j++ &#123;</span><br><span class="line">		<span class="keyword">if</span> a[j] &gt; a[max] &#123;</span><br><span class="line">			max = j</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> max != length<span class="number">-1</span> &#123;</span><br><span class="line">		a[length<span class="number">-1</span>], a[max] = a[max], a[length<span class="number">-1</span>]</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	SelectionSort(a[:length<span class="number">-1</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>&#125;</span><br><span class="line">	SelectionSort(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="9-5-1-zhi-jie-cha-ru-pai-xu-straight-insertion-sort">9.5.1 直接插入排序(Straight Insertion Sort)</span><a href="#9-5-1-zhi-jie-cha-ru-pai-xu-straight-insertion-sort" class="header-anchor">#</a></h5>
<p>插入排序是在一个已经有序的小序列的基础上，一次插入一个元素。当然，刚开始这个有序的小序列只有1个元素，就是第一个元素。比较是从有序序列的末尾开 始，也就是想要插入的元素和已经有序的最大者开始比起，如果比它大则直接插入在其后面，否则一直往前找直到找到它该插入的位置。如果碰见一个和插入元素相 等的，那么插入元素把想插入的元素放在相等元素的后面。所以，相等元素的前后顺序没有改变，从原无序序列出去的顺序就是排好序后的顺序，所以插入排序是稳 定的。
复杂度同为为$O(n^{2})$，性能：<strong>插入排序&gt;选择排序&gt;冒泡排序</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InsertionSort</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	length := <span class="built_in">len</span>(a)</span><br><span class="line">	<span class="keyword">var</span> j <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">2</span>; i &lt; length; i++ &#123; <span class="comment">//第二个数到最后一个数</span></span><br><span class="line">		<span class="keyword">if</span> a[i] &lt; a[i<span class="number">-1</span>] &#123; <span class="comment">//第i个数比前面的数小，需要插入</span></span><br><span class="line">			a[<span class="number">0</span>] = a[i] <span class="comment">//哨兵</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span> j = i - <span class="number">1</span>; a[j] &gt; a[<span class="number">0</span>]; j-- &#123; <span class="comment">//j取 i-1 到 1</span></span><br><span class="line">				a[j+<span class="number">1</span>] = a[j] <span class="comment">//将大于第i个数的数后移一位，留出空位</span></span><br><span class="line">			&#125;</span><br><span class="line">			a[j+<span class="number">1</span>] = a[<span class="number">0</span>] <span class="comment">//将第i个数放入空位</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>&#125;</span><br><span class="line">	InsertionSort(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="9-6-xi-er-pai-xu-shell-sort">9.6 希尔排序(Shell Sort)</span><a href="#9-6-xi-er-pai-xu-shell-sort" class="header-anchor">#</a></h4>
<p>希尔排序是按照不同步长对元素进行插入排序，当刚开始元素很无序的时候，步长最大，所以插入排序的元素个数很少，速度很快；当元素基本有序了，步长很小， 插入排序对于有序的序列效率很高。所以，希尔排序的时间复杂度会比o(n^2)好一些。由于多次插入排序，我们知道一次插入排序是稳定的，不会改变相同元 素的相对顺序，但在不同的插入排序过程中，相同的元素可能在各自的插入排序中移动，最后其稳定性就会被打乱，所以shell排序是不稳定的。
<img src="https://upload-images.jianshu.io/upload_images/1863961-8713bb4788430478.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ShellSort</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i, j <span class="keyword">int</span></span><br><span class="line">	length := <span class="built_in">len</span>(a) - <span class="number">1</span> <span class="comment">//去掉第0位</span></span><br><span class="line">	inc := length <span class="comment">//增量</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> inc &gt; <span class="number">1</span> &#123;</span><br><span class="line">		inc = inc/<span class="number">3</span> + <span class="number">1</span></span><br><span class="line">		<span class="keyword">for</span> i = <span class="number">1</span> + inc; i &lt;= length; i++ &#123; <span class="comment">//第(1+inc)个数到最后一个数</span></span><br><span class="line">			<span class="keyword">if</span> a[i] &lt; a[i-inc] &#123;</span><br><span class="line">				a[<span class="number">0</span>] = a[i]</span><br><span class="line">				<span class="keyword">for</span> j = i - inc; j &gt; <span class="number">0</span> &amp;&amp; a[j] &gt; a[<span class="number">0</span>]; j -= inc &#123;</span><br><span class="line">					a[j+inc] = a[j]</span><br><span class="line">				&#125;</span><br><span class="line">				a[j+inc] = a[<span class="number">0</span>]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>&#125;</span><br><span class="line">	ShellSort(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="9-7-dui-pai-xu">9.7 堆排序</span><a href="#9-7-dui-pai-xu" class="header-anchor">#</a></h4>
<p>时间复杂度$O(nlogn)$</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HeapSort</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	length := <span class="built_in">len</span>(a) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//循环后a[1]为最大值</span></span><br><span class="line">	<span class="keyword">for</span> i := length / <span class="number">2</span>; i &gt; <span class="number">0</span>; i-- &#123; <span class="comment">//(length/2)是最后一个节点的父节点到根节点</span></span><br><span class="line">		HeapAdjust(a, i, length)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := length; i &gt; <span class="number">1</span>; i-- &#123; <span class="comment">//从最后节点到第二个节点</span></span><br><span class="line">		a[<span class="number">1</span>], a[i] = a[i], a[<span class="number">1</span>] <span class="comment">//排序第i位</span></span><br><span class="line">		HeapAdjust(a, <span class="number">1</span>, i<span class="number">-1</span>)   <span class="comment">//将1到i-1中的最大数放到a[1]</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HeapAdjust</span>(<span class="params">a []<span class="keyword">int</span>, s, m <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> temp, j <span class="keyword">int</span></span><br><span class="line">	temp = a[s]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> j = <span class="number">2</span> * s; j &lt;= m; j *= <span class="number">2</span> &#123; <span class="comment">//以s为父节点开始</span></span><br><span class="line">		<span class="keyword">if</span> j &lt; m &amp;&amp; a[j] &lt; a[j+<span class="number">1</span>] &#123; <span class="comment">//取出较大的孩子节点</span></span><br><span class="line">			j = j + <span class="number">1</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> temp &gt;= a[j] &#123; <span class="comment">//父节点已经最大</span></span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		a[s] = a[j] <span class="comment">//将最大的值替换给父节点</span></span><br><span class="line">		s = j       <span class="comment">//将当前节点作为父节点，进行下一轮操作</span></span><br><span class="line">	&#125;</span><br><span class="line">	a[s] = temp</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>&#125;</span><br><span class="line">	HeapAdjust(a, <span class="number">1</span>, <span class="number">9</span>)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="9-8-gui-bing-pai-xu">9.8 归并排序</span><a href="#9-8-gui-bing-pai-xu" class="header-anchor">#</a></h4>
<p>归并排序是把序列递归地分成短序列，递归出口是短序列只有1个元素(认为直接有序)或者2个序列(1次比较和交换),然后把各个有序的段序列合并成一个有 序的长序列，不断合并直到原序列全部排好序。可以发现，在1个或2个元素时，1个元素不会交换，2个元素如果大小相等也没有人故意交换，这不会破坏稳定 性。那么，在短的有序序列合并的过程中，稳定是否受到破坏？没有，合并过程中我们可以保证如果两个当前元素相等时，我们把处在前面的序列的元素保存在结 果序列的前面，这样就保证了稳定性。所以，归并排序也是稳定的排序算法。</p>
<p>递归方法
<img src="https://upload-images.jianshu.io/upload_images/1863961-494a82286018f65f.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<p>Merge()归并排序示意图：
<img src="https://upload-images.jianshu.io/upload_images/1863961-cfe727471bdad794.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将a排序到b</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MergeSort</span>(<span class="params">a []<span class="keyword">int</span></span>) []<span class="title">int</span></span> &#123;</span><br><span class="line">	length := <span class="built_in">len</span>(a)</span><br><span class="line">	b := <span class="built_in">make</span>([]<span class="keyword">int</span>, length)</span><br><span class="line"></span><br><span class="line">	MSort(a, b, <span class="number">1</span>, length<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MSort</span>(<span class="params">a, b []<span class="keyword">int</span>, s, t <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> s == t &#123;</span><br><span class="line">		b[s] = a[s] <span class="comment">//将a复制到到b</span></span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		m := (s + t) / <span class="number">2</span></span><br><span class="line">		MSort(a, b, s, m)</span><br><span class="line">		MSort(a, b, m+<span class="number">1</span>, t)</span><br><span class="line">		Merge(b, s, m, t) <span class="comment">//将b归并排序</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Merge</span>(<span class="params">SR []<span class="keyword">int</span>, i, m, n <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	TR := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(SR)) <span class="comment">//归并的序列暂存到TR</span></span><br><span class="line"></span><br><span class="line">	s := i <span class="comment">//保存起始位置</span></span><br><span class="line">	j := m + <span class="number">1</span></span><br><span class="line">	k := i <span class="comment">//TR序号</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i &lt;= m &amp;&amp; j &lt;= n &#123;</span><br><span class="line">		<span class="keyword">if</span> SR[i] &lt; SR[j] &#123;</span><br><span class="line">			TR[k] = SR[i]</span><br><span class="line">			i++</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			TR[k] = SR[j]</span><br><span class="line">			j++</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		k++</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> i &lt;= m &#123;</span><br><span class="line">		<span class="keyword">for</span> l := <span class="number">0</span>; l &lt;= m-i; l++ &#123;</span><br><span class="line">			TR[k+l] = SR[i+l]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> j &lt;= n &#123;</span><br><span class="line">		<span class="keyword">for</span> l := <span class="number">0</span>; l &lt;= n-j; l++ &#123;</span><br><span class="line">			TR[k+l] = SR[j+l]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> p := s; p &lt;= n; p++ &#123; <span class="comment">//将排好序的TR写回到SR</span></span><br><span class="line">		<span class="keyword">if</span> SR[p] != TR[p] &#123;</span><br><span class="line">			SR[p] = TR[p]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">16</span>&#125;</span><br><span class="line">	fmt.Println(MergeSort(a))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>非递归方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MergeSort2</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	length := <span class="built_in">len</span>(a) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> k := <span class="number">1</span>; k &lt; length; &#123;</span><br><span class="line">		MergePass(a, k, length)</span><br><span class="line">		k = k * <span class="number">2</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MergePass</span>(<span class="params">a []<span class="keyword">int</span>, s, n <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	i := <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> i &lt;= n<span class="number">-2</span>*s+<span class="number">1</span> &#123;</span><br><span class="line">		Merge2(a, i, i+s<span class="number">-1</span>, i+<span class="number">2</span>*s<span class="number">-1</span>) <span class="comment">//i+2*s-1&lt;=n</span></span><br><span class="line">		i = i + <span class="number">2</span>*s</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> i &lt; n-s+<span class="number">1</span> &#123; <span class="comment">//n&gt;i+s-1,归并最后两个子块</span></span><br><span class="line">		Merge2(a, i, i+s<span class="number">-1</span>, n)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Merge2</span>(<span class="params">SR []<span class="keyword">int</span>, i, m, n <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	TR := <span class="built_in">make</span>([]<span class="keyword">int</span>, n-i+<span class="number">1</span>) <span class="comment">//与Merge相比栈空间更小</span></span><br><span class="line"></span><br><span class="line">	s := i <span class="comment">//保存起始位置</span></span><br><span class="line">	j := m + <span class="number">1</span></span><br><span class="line">	k := <span class="number">0</span> <span class="comment">//TR序号</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i &lt;= m &amp;&amp; j &lt;= n &#123;</span><br><span class="line">		<span class="keyword">if</span> SR[i] &lt; SR[j] &#123;</span><br><span class="line">			TR[k] = SR[i]</span><br><span class="line">			i++</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			TR[k] = SR[j]</span><br><span class="line">			j++</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		k++</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> i &lt;= m &#123;</span><br><span class="line">		<span class="keyword">for</span> l := <span class="number">0</span>; l &lt;= m-i; l++ &#123;</span><br><span class="line">			TR[k+l] = SR[i+l]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> j &lt;= n &#123;</span><br><span class="line">		<span class="keyword">for</span> l := <span class="number">0</span>; l &lt;= n-j; l++ &#123;</span><br><span class="line">			TR[k+l] = SR[j+l]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> p := s; p &lt;= n; p++ &#123; <span class="comment">//将排好序的TR写回到SR</span></span><br><span class="line">		<span class="keyword">if</span> SR[p] != TR[p-s] &#123;</span><br><span class="line">			SR[p] = TR[p-s]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">16</span>, <span class="number">3</span>, <span class="number">41</span>, <span class="number">7</span>, <span class="number">55</span>, <span class="number">21</span>&#125;</span><br><span class="line">	MergeSort2(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="9-9-kuai-su-pai-xu">9.9 快速排序</span><a href="#9-9-kuai-su-pai-xu" class="header-anchor">#</a></h4>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">QuickSort</span>(<span class="params">a []<span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	Qsort(a, <span class="number">1</span>, <span class="built_in">len</span>(a)<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Qsort</span>(<span class="params">a []<span class="keyword">int</span>, low, high <span class="keyword">int</span></span>)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> low &lt; high &#123;</span><br><span class="line">		pivot := Partition(a, low, high)</span><br><span class="line"></span><br><span class="line">		Qsort(a, low, pivot<span class="number">-1</span>)</span><br><span class="line">		Qsort(a, pivot+<span class="number">1</span>, high)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Partition</span>(<span class="params">a []<span class="keyword">int</span>, low, high <span class="keyword">int</span></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	pivotValue := a[low]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> low &lt; high &#123;</span><br><span class="line">		<span class="keyword">for</span> pivotValue &lt;= a[high] &#123; <span class="comment">//找出a[high]&lt;pivotValue</span></span><br><span class="line">			high--</span><br><span class="line">		&#125;</span><br><span class="line">		a[low], a[high] = a[high], a[low] <span class="comment">//将a[hign]放到pivoValue左边</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> low &lt; high &amp;&amp; pivotValue &gt;= a[low] &#123; <span class="comment">//找出a[low]&gt;pivotValue</span></span><br><span class="line">			low++</span><br><span class="line">		&#125;</span><br><span class="line">		a[low], a[high] = a[high], a[low] <span class="comment">//将a[low]放到pivoValue右边</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> low</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Partition2</span>(<span class="params">a []<span class="keyword">int</span>, low, high <span class="keyword">int</span></span>) <span class="title">int</span></span> &#123;</span><br><span class="line">	pivotValue := a[low]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> low &lt; high &#123;</span><br><span class="line">		<span class="keyword">for</span> pivotValue &lt;= a[high] &#123; <span class="comment">//找出a[high]&lt;pivotValue</span></span><br><span class="line">			high--</span><br><span class="line">		&#125;</span><br><span class="line">		a[low] = a[high] <span class="comment">//将a[hign]放到较低的位置</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> low &lt; high &amp;&amp; pivotValue &gt;= a[low] &#123; <span class="comment">//找出a[low]&gt;pivotValue</span></span><br><span class="line">			low++</span><br><span class="line">		&#125;</span><br><span class="line">		a[high] = a[low] <span class="comment">//将a[low]放到较高的位置</span></span><br><span class="line">	&#125;</span><br><span class="line">	a[low] = pivotValue</span><br><span class="line">	<span class="keyword">return</span> low</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">	a := []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">50</span>, <span class="number">10</span>, <span class="number">90</span>, <span class="number">30</span>, <span class="number">70</span>, <span class="number">40</span>, <span class="number">80</span>, <span class="number">60</span>, <span class="number">20</span>&#125;</span><br><span class="line">	QuickSort(a)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/1863961-25127e3a301cf527.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/640" alt=""></p>

  </section>

</article>

<section class="read-more">
     

        
            <div class="read-more-item">
                <span class="read-more-item-dim">最近的文章</span>
                <h3 class="post-list__post-title post-title"><a href="/2018/12/31/2018-12-31/" title="MySQL驱动">MySQL驱动</a></h3>
                <p class="excerpt">
                
                



启动、以密码登入和创建数据库

windows:
ubuntu:


编写Go文件



MySQL基础见菜鸟教程;
本文参考了astaxie/build-web-application-with-golang.
启动、以密码登入和创建数据库#
windows:#
在bin目录下，运行(gi
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2018-12-30T16:00:00.000Z" class="post-list__meta--date date">2018-12-31</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/Golang/">Golang</a>, <a class="tag-link" href="/tags/MySQL/">MySQL</a>
</span><a class="btn-border-small" href="/2018/12/31/2018-12-31/">阅读全文</a></div>

            </div>
        

        
            <div class="read-more-item">
                <span class="read-more-item-dim">更早的文章</span>
                <h3 class="post-list__post-title post-title"><a href="/2018/11/14/2018-11-14/" title="Go内存模型">Go内存模型</a></h3>
                <p class="excerpt">
                
                



1. 什么是 Go内存模型？
2. Happens Before
3. Synchronization

3.1 Initialization
3.2 Goroutine creation
3.3 Goroutine destruction
3.4 Channel communication
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2018-11-13T16:00:00.000Z" class="post-list__meta--date date">2018-11-14</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/Golang/">Golang</a>
</span><a class="btn-border-small" href="/2018/11/14/2018-11-14/">阅读全文</a></div>

            </div>
        

   


</section>


  


            <footer class="footer">
    <span class="footer__copyright">
        2021 &copy; Jiang-Tao He - Powered by <a href="https://hexo.io">Hexo</a> with <a href="https://github.com/monniya/hexo-theme-new-vno ">new-vno</a> theme originated from <a href="https://github.com/onevcat/vno" target="_blank">onevcat</a>. Hosted by Netlify.

    </span>
    <span class="footer__copyright">
            
         </span>


  
         <script type="text/x-mathjax-config">
    MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
        tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
        TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
        messageStyle: "none"
    }); 
    
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
 
</footer>


<div id="totop" style="position:fixed;bottom:150px;right:20px;cursor: pointer;">
<a title="返回顶部"><img src="/images/scrollup.png"/></a>
</div>
<script src="/js/totop.js"></script>


        </div>
    </div>

     
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-119463453-1', 'auto');
	ga('send', 'pageview');
</script>

    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?cbff5c9c1c024f714d2c51527df12893";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>



    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":140,"height":280,"hOffset":-28,"vOffset":-63},"mobile":{"show":true,"motion":true},"log":false,"tagMode":false});</script></body>
</html>
